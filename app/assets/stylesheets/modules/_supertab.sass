// Mixin to make color coding super tab border easier
// Usage: +tabs-border(left, false, $tabs)
// Border side: top, left, bottom or right...
// Hover: true by default
// Tabs: Accepts a SASS map of colors
// e.g. $tabs: (1: $blue, 2: $red ... )
$tabs: (1: $eighteen-sixty, 2: $sixtyfive-plus, 3: $carers)

=tabs-border($side, $hover: true, $tabs: $tabs)
  @if $hover
    @each $number, $color in $tabs
      &#tab-#{$number}:hover
        border-#{$side}-color: $color
  @else
    @each $number, $color in $tabs
      &#tab-#{$number}
        border-#{$side}-color: $color

.super-tab-wrapper
  position: relative

  +media($large-screen-up)
    width: 100%
    height: 300px

.super-tab
  box-sizing: border-box
  width: calc(33.33% - 3px) !important
  height: 100% !important
  display: inline-block
  background-color: $white
  cursor: pointer
  padding: 0
  margin: 0
  +media($large-screen-up)
    margin: 0 3px 3px 0

  header
    line-height: 80px

    h3
      line-height: normal
      display: inline-block
      +media($medium-screen-up)
        font-size: 1.2em

    +media($medium-screen-up)
      padding-left: $base-spacing
      background-color: $light-gray

  article
    +media($medium-screen-up)
      padding: $base-spacing

  &:first-of-type
    border-top-left-radius: $base-border-radius

  &:last-of-type
    margin-bottom: 0
    +media($large-screen-up)
      height: 33.33%

  +media($medium-screen-up)
    height: 100%
    padding: 0
    &:last-of-type
      +omega
    p
      float: none
      margin-right: 0
      clear: both

  +media($large-screen-up)
    +span-columns(12 of 12, block-collapse)
    height: calc(33.33% - 3px)
    width: 100%
    border-right: 0

.super-tab
  // Unselected
  &.unselected
    +tabs-border(top)
    +transition(all .1s ease-in-out)
    border-top: $big-border

    &:hover
      cursor: pointer
      border-top: 7px solid

    article
      display: none
      +media($medium-screen-up)
        display: block

  // Selected
  &.selected
    +tabs-border(top, false)
    border-top: 7px solid
    padding: .5em 0

    +media($medium-screen-up)
      padding: 0

    +media($large-screen-up)
      +tabs-border(top, false)
      border-top: 7px solid

    article
      +position(absolute, null null 0px 0px)
      display: none
      +media($medium-screen-up)
        display: block
        position: initial
    header
      height: 80px

  // Disabled
  &.disabled
    opacity: .7

    &:hover
      cursor: pointer
      border-top: 15px solid
      border-top-color: $medium-gray !important

  // .super-tab-trend
  &-trend
    float: left
    margin-bottom: $small-spacing
    display: none
    +media($medium-screen-up)
      display: block
    .stat-value
      margin-bottom: 0
    .stat-value, p
      display: inline-block
    p
      float: none
    i, data
      float: left
    i
      margin-right: $small-spacing
    data
      margin-top: 10px
      width: 200px
      +media($medium-screen-up)
        max-width: 90px
      +media($medium-large-screen-up)
        max-width: 170px
      +media($large-screen-up)
        max-width: 130px

    +media($medium-screen-up)
      .stat-value,
      p
        display: block
      data
        margin-top: 0

  // .super-tab-info
  &-info
    min-height: 11em
    margin-bottom: 0
    clear: both
    +media($medium-screen-up)
      display: none
